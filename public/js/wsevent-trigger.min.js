document.addEventListener("DOMContentLoaded",()=>{let e=document.getElementById("updates"),t=!0,n=localStorage.getItem("updatesContent");function a(){localStorage.setItem("updatesContent",e.innerHTML)}n&&(e.innerHTML=n),document.addEventListener("htmx:wsAfterMessage",function(e){let t=e.detail.message,n=new DOMParser,d=n.parseFromString(t,"text/html"),r=d.querySelector("#updates");if(r){r.innerHTML,a();let s=r.getAttribute("data-update-type");switch(s){case"Issue":htmx.trigger(document.body,"update-issues-count"),a();break;case"Merge":htmx.trigger(document.body,"update-merge-requests-count"),a();break;default:console.warn("Unhandled update type:",s);return}}}),window.addEventListener("load",()=>{t=!1})});
